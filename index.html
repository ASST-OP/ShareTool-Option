<!DOCTYPE html>
<html>
<head>
    <title>半自動共有ツール(オプション)</title>
    <style> 

body {
  font-family: Arial, sans-serif;
}

input, button {
  padding: 10px;
  margin-bottom: 10px;
  border-radius: 5px;
  border: none;
}

input[type="number"] {
  width: 200px;
}

input[type="text"], input[type="number"] {
  font-size: 16px;
}

button {
  background-color: #4CAF50;
  color: white;
  cursor: pointer;
}

button:hover {
  background-color: #45a049;
}

#selectContainer {
  margin-bottom: 10px;
}

blockquote,
body,
dd,
dl,
figure,
h1,
h2,
h3,
h4,
p {
    margin: 0
}

ol[role=list],
ul[role=list] {
    list-style: none
}

html:focus-within {
    scroll-behavior: smooth
}

body {
    min-height: 100vh;
    text-rendering: optimizeSpeed;
    line-height: 1.5
}

a:not([class]) {
    text-decoration-skip-ink: auto
}

img,
picture {
    max-width: 100%;
    display: block
}

button,
input,
select,
textarea {
    font: inherit
}

@media(prefers-reduced-motion:reduce) {
    html:focus-within {
        scroll-behavior: auto
    }

    *,
    ::after,
    ::before {
        animation-duration: NaNs !important;
        animation-iteration-count: 1 !important;
        transition-duration: NaNs !important;
        scroll-behavior: auto !important
    }
}

body {
    font-family: 'Arial', sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
}

#password
#selectCount,
#redirectInterval {
    padding: 10px;
    margin: 5px;
    width: 200px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
}

#selectCount::placeholder,
#redirectInterval::placeholder,
#password::placelder{
    color: #999;
}

#addSelectButton,
#startRedirectButton,
#stopRedirectButton {
    padding: 10px 20px;
    margin: 5px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

#addSelectButton {
    background-color: #4caf50;
    color: #fff;
}

#startRedirectButton {
    background-color: #3498db;
    color: #fff;
}

#stopRedirectButton {
    background-color: #e74c3c;
    color: #fff;
}

#inputs {
    margin: 20px 0;
}

#redirectCountInfo {
    margin-bottom: 10px;
    font-size: 18px;
}

#info {
    margin-top: 20px;
    color: #777;
}
</style>
</head>
<body>
    <input id="password" placeholder="パスワード">
    <input type="number" id="selectCount" placeholder="セレクトの数">
    <button id="addSelectButton">セレクトを作成</button>
    <div id="selectContainer"></div>
    <input type="number" id="redirectInterval" placeholder="共有の間隔（ミリ秒）">
    <button id="startRedirectButton">半自動共有開始</button>
    <button id="stopRedirectButton">共有停止1.06</button>

    <script>
        let redirectTimer;
        let redirectCount = 0;
        const selectContainer = document.getElementById("selectContainer");

        const passwords = ["NameTool001", "CalenskJQQgjm3", "天皇陛下万歳","おぜう様万歳"];

        document.getElementById("addSelectButton").addEventListener("click", function() {
            const selectCount = parseInt(document.getElementById("selectCount").value);
            
            if (!isNaN(selectCount) && selectCount > 0) {
                selectContainer.innerHTML = "";

                for (let i = 1; i <= selectCount; i++) {
                    const select = document.createElement("select");
                    select.id = `redirectSelect${i}`;
                    select.innerHTML = `
                    <option value"%E2%9A%A0%EF%B8%8F%E6%8B%A1%E6%95%A3%E5%B8%8C%E6%9C%9B%E2%9A%A0%EF%B8%8F%0D%0A%0D%0A%0D%0A%E7%8F%BE%E5%9C%A8%E3%80%81%E3%80%8C%E3%81%8A%E3%81%9C%E3%81%86%E3%81%AE%E9%9B%86%E3%81%84%E3%80%8D%E3%81%A8%E3%81%84%E3%81%86%E5%87%B6%E6%82%AA%E3%81%AA%E8%8D%92%E3%82%89%E3%81%97%E3%82%AA%E3%83%97%E3%81%8C%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%97%E3%81%9F%E3%80%82%0D%0A%0D%0A%E5%BD%BC%E3%82%89%E3%81%AE%E4%BA%BA%E5%93%A1%E3%81%AF200%E4%BA%BA%E3%81%BB%E3%81%A9%0D%0A%E5%81%B5%E5%AF%9F%E3%82%84%E7%89%B9%E5%AE%9A%E3%80%81Unicode%E3%81%AA%E3%81%A9%E3%81%AE%E6%89%8B%E6%AE%B5%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E8%8D%92%E3%82%89%E3%81%99%E3%81%A8%E6%8E%A8%E6%B8%AC%E3%81%95%E3%82%8C%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%E3%80%82%0D%0A%0D%0A%E3%81%93%E3%81%93%E3%81%8C%E7%8B%99%E3%82%8F%E3%82%8C%E3%81%A6%E3%81%84%E3%81%BE%E3%81%99%EF%BC%81%E7%AD%89%E3%81%AE%E6%89%8B%E5%8F%A3%E3%81%A7%E5%81%B5%E5%AF%9F%E3%81%AB%E6%9D%A5%E3%82%8B%E3%81%93%E3%81%A8%E3%82%82%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%81%AE%E3%81%A7%E3%80%81%E5%B0%91%E3%81%97%E3%81%A7%E3%82%82%E6%80%AA%E3%81%97%E3%81%84%E3%81%A8%E6%84%9F%E3%81%98%E6%AC%A1%E7%AC%AC%E5%8D%B3%E8%B9%B4%E3%81%A3%E3%81%A6%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84%E3%80%82%0D%0A%0D%0A%E8%87%AA%E5%88%86%E3%81%AE%E3%82%AA%E3%83%97%E3%81%8C%E7%A0%B4%E6%BB%85%E3%81%99%E3%82%8B%E3%82%84%E3%82%82%E3%81%97%E3%82%8C%E3%81%AA%E3%81%84%E7%94%B1%E3%80%85%E3%81%97%E3%81%8D%E4%BA%8B%E6%85%8B%E3%81%A7%E3%81%99%E3%80%82%0D%0A%0D%0A%E3%81%93%E3%81%AE%E5%AE%A3%E4%BC%9D%E6%96%87%E3%82%92%E6%8B%A1%E6%95%A3%E3%81%97%E3%80%81%E8%87%AA%E5%88%86%E3%81%AE%E3%82%AA%E3%83%97%E3%81%8C%E7%8B%99%E3%82%8F%E3%82%8C%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E3%81%8B%E4%B8%8B%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E3%81%AB%E5%85%A5%E3%82%8A%E7%A2%BA%E8%AA%8D%E3%81%97%E3%81%A4%E3%81%A4%E3%80%81%E3%81%A9%E3%82%93%E3%81%AA%E6%89%8B%E5%8F%A3%E3%81%8B%E3%82%92%E5%88%A4%E6%96%AD%E3%81%97%E5%AF%BE%E7%AD%96%E3%82%92%E3%81%97%E3%81%BE%E3%81%97%E3%82%87%E3%81%86%0D%0A%E2%86%93%0D%0Aline%3A%2F%2Fsquare%2Fjoin%3Fticket%3Dm6xGLtR30oW6Itb2OE9Q2AnxJNpwehV7svKkyg">宣伝</option>
                    <option value="%E3%83%A1%E3%83%83%E3%82%BB%E3%83%BC%E3%82%B8%E3%81%82%E3%82%8A%E3%81%8C%E3%81%A8%E3%81%86%E3%81%94%E3%81%96%E3%81%84%E3%81%BE%E3%81%99%EF%BC%81%0D%0A%0D%0A%E7%94%B3%E3%81%97%E8%A8%B3%E3%81%82%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%81%8C%E3%80%81%E3%81%93%E3%81%AE%E3%82%A2%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E3%81%A7%E3%81%AF%E5%80%8B%E5%88%A5%E3%81%AE%E3%81%8A%E5%95%8F%E3%81%84%E5%90%88%E3%82%8F%E3%81%9B%E3%82%92%E5%8F%97%E3%81%91%E4%BB%98%E3%81%91%E3%81%A6%E3%81%8A%E3%82%8A%E3%81%BE%E3%81%9B%E3%82%93%E3%80%82%0D%0A%E6%AC%A1%E3%81%AE%E9%85%8D%E4%BF%A1%E3%81%BE%E3%81%A7%E3%81%8A%E5%BE%85%E3%81%A1%E3%81%8F%E3%81%A0%E3%81%95%E3%81%84">BOT</option>
                  `;
                    selectContainer.appendChild(select);
                }
            } else {
                alert("セレクトの数を正しく指定してください.");
            }
        });

        document.getElementById("startRedirectButton").addEventListener("click", function() {
            const enteredPassword = document.getElementById("password").value;

            if (passwords.includes(enteredPassword)) {
                const redirectInterval = parseInt(document.getElementById("redirectInterval").value);

                if (redirectInterval > 0) {
                    const selects = selectContainer.querySelectorAll("select");

                    redirectTimer = setInterval(function() {
                        selects.forEach((select, index) => {
                            const selectedIndex = select.selectedIndex;
                            if (selectedIndex !== -1) {
                                const selectedOption = select.options[selectedIndex];
                                const encodedRedirectUrl = selectedOption.value;
                                
                                // デコード
                                const decodedRedirectUrl = decodeURIComponent(encodedRedirectUrl);

                                // 5桁のランダムな英数字
                                const randomId = Math.random().toString(36).substr(2, 5).toUpperCase();

                                // リンクの生成
                                const link = `line://share?text=${encodeURIComponent(decodedRedirectUrl)}ID%3A${randomId}`;

                                // リダイレクト
                                window.location.href = link;

                                // リダイレクト回数を更新
                                redirectCount++;
                            }
                        });
                    }, redirectInterval);

                    alert("半自動共有が開始されました。");
                } else {
                    alert("共有の間隔を正しく設定してください.");
                }
            } else {
                alert("パスワードが正しくありません。");
            }
        });

        document.getElementById("stopRedirectButton").addEventListener("click", function() {
            clearInterval(redirectTimer);
            alert("リダイレクトが停止されました。");
        });
      </script>
</body>
</html>
